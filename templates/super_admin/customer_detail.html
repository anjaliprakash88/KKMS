<style>
    /* The Modal (background) */
    .modal {
        display: none;
        /* Hidden by default */
        position: fixed;
        /* Stay in place */
        z-index: 1;
        /* Sit on top */
        left: 0;
        top: 0;
        width: 100%;
        /* Full width */
        height: 100%;
        /* Full height */
        overflow: auto;
        /* Enable scroll if needed */
        background-color: rgb(0, 0, 0);
        /* Fallback color */
        background-color: rgba(0, 0, 0, 0.4);
        /* Black w/ opacity */
    }

    /* Modal Content/Box */
    .modal-content {
        background-color: #fefefe;
        margin: 10% auto;
        /* 10% from the top and centered */
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
        /* Could be more or less, depending on screen size */
        max-width: 600px;
        border-radius: 8px;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        position: relative;
    }

    /* The Close Button */
    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }

    /* Basic form styling within the modal */
    .modal-content form input {
        width: 100%;
        padding: 8px;
        margin: 6px 0 16px 0;
        display: inline-block;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
    }

    .modal-content form button {
        width: 100%;
        background-color: #4CAF50;
        color: white;
        padding: 14px 20px;
        margin: 8px 0;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
</style>



<img src="{{ customer.profile_image.url }}" class="card-img-top">
<h5>Name: {{ customer.user.first_name }} {{ customer.user.last_name }}</h5>
<p><strong>Age:</strong> {{ customer.age }}</p>
<p><strong>Gender:</strong> {{ customer.gender }}</p>
<p><strong>Mobile:</strong> {{ customer.contact_no }}</p>
<p><strong>Caste:</strong> {{ customer.caste }}</p>
<p><strong>Job:</strong> {{ customer.job }}</p>
<p><strong>Marital Status:</strong> {{ customer.marital_status }}</p>
<p><strong>District:</strong> {{ customer.district }}</p>
<p><strong>Job Department:</strong> {{ customer.job_department }}</p>
<p><strong>Company:</strong> {{ customer.company }}</p>
<p><strong>Physical Condition:</strong> {{ customer.physical_condition }}</p>
<p><strong>Birth Time:</strong> {{ customer.time_birth }}</p>
<p><strong>Birth Place:</strong> {{ customer.place_birth }}</p>
<p><strong>Date Of Birth:</strong> {{ customer.dob }}</p>


</div>
<div class="col-md-6">
    <p><strong>Height:</strong> {{ customer.height }}</p>
    <p><strong>Weight:</strong> {{ customer.weight }}</p>
    <p><strong>Complexion:</strong> {{ customer.complexion }}</p>
    <p><strong>Education:</strong> {{ customer.education }}</p>
    <p><strong>Father's Name:</strong> {{ customer.father_name }}</p>
    <p><strong>Mother's Name:</strong> {{ customer.mother_name }}</p>

    <p><strong>Address:</strong> {{ customer.address }}</p>
    <p><strong>Star:</strong> {{ customer.star }}</p>
    <p><strong>Married Sisters:</strong> {{ customer.married_sisters }}</p>
    <p><strong>Married Brothers:</strong> {{ customer.married_brothers }}</p>
    <p><strong>Father Job:</strong> {{ customer.father_job }}</p>
    <p><strong>Mother Job:</strong> {{ customer.mother_job }}</p>
    <p><strong>Income:</strong> {{ customer.income }}</p>
    <p><strong>Job City:</strong> {{ customer.job_city }}</p>
    <p><strong>City:</strong> {{ customer.city }}</p>
    <p><strong>Post:</strong> {{ customer.post }}</p>
    <p><strong>Pin Code:</strong> {{ customer.pin_code }}</p>
    <p><strong>Street:</strong> {{ customer.street }}</p>
    <p><strong>House Name:</strong> {{ customer.house_name }}</p>
    <p><strong>Address:</strong> {{ customer.address }}</p>

    <button id="editBtn" class="btn btn-primary mt-3">Edit Profile</button>

    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Edit Profile</h2>


           <form method="post" id="editProfileForm" enctype="multipart/form-data"
      action="{% url 'customer_edit' customer.id %}">
                {% csrf_token %}

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="first_name" class="form-label">First Name</label>
                        <input type="text" class="form-control" id="first_name" name="first_name"
                            value="{{ customer.user.first_name }} ">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="last_name" class="form-label">Last Name</label>
                        <input type="text" class="form-control" id="last_name" name="last_name"
                            value="{{ customer.user.last_name }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" name="email"
                            value="{{ customer.user.email }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="contact_no" class="form-label">Mobile</label>
                        <input type="text" class="form-control" id="contact_no" name="contact_no"
                            value="{{ customer.contact_no }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="age" class="form-label">Age</label>
                        <input type="number" class="form-control" id="age" name="age" value="{{ customer.age }}">
                    </div>
                   <div class="col-md-6 mb-3">
    <label for="gender" class="form-label">Gender</label>
    <select class="form-control" id="gender" name="gender">
        <option value="Male" {% if customer.gender == 'Male' %}selected{% endif %}>Male</option>
        <option value="Female" {% if customer.gender == 'Female' %}selected{% endif %}>Female</option>
    </select>
</div>

                    <div class="col-md-12 mb-3">
                        <label class="form-label">Current Profile Image</label>
                        {% if customer.profile_image %}
                        <img src="{{ customer.profile_image.url }}" alt="Current Profile Image"
                            style="max-width: 200px; display: block;">
                        {% else %}
                        <p>No profile image uploaded.</p>
                        {% endif %}
                    </div>
                    <div class="col-md-12 mb-3">
                        <label for="profile_image" class="form-label">Upload New Image</label>
                        <input type="file" class="form-control" id="profile_image" name="profile_image">
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="father_name" class="form-label">Father's Name</label>
                        <input type="text" class="form-control" id="father_name" name="father_name"
                            value="{{ customer.father_name }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="mother_name" class="form-label">Mother's Name</label>
                        <input type="text" class="form-control" id="mother_name" name="mother_name"
                            value="{{ customer.mother_name }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="father_job" class="form-label">Father's Job</label>
                        <input type="text" class="form-control" id="father_job" name="father_job"
                            value="{{ customer.father_job }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="mother_job" class="form-label">Mother's Job</label>
                        <input type="text" class="form-control" id="mother_job" name="mother_job"
                            value="{{ customer.mother_job }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="married_sisters" class="form-label">Married Sisters</label>
                        <input type="text" class="form-control" id="married_sisters" name="married_sisters"
                            value="{{ customer.married_sisters }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="married_brothers" class="form-label">Married Brothers</label>
                        <input type="text" class="form-control" id="married_brothers" name="married_brothers"
                            value="{{ customer.married_brothers }}">
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="caste" class="form-label">Caste</label>
                        <select class="form-control" id="caste" name="caste">
                            <option value="">Select Caste</option>
                            {% for key, value in customer.CASTE_CHOICES %}
                            <option value="{{ key }}" {% if customer.caste == key %}selected{% endif %}>{{ value }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="marital_status" class="form-label">Marital Status</label>
                        <select class="form-control" id="marital_status" name="marital_status">
                            <option value="">Select Status</option>
                            {% for key, value in customer.MARITAL_STATUS_CHOICES %}
                            <option value="{{ key }}" {% if customer.marital_status == key %}selected{% endif %}>{{ value
                                }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="star" class="form-label">Star</label>
                        <select class="form-control" id="star" name="star">
                            <option value="">Select Star</option>
                            {% for key, value in customer.STAR_CHOICES %}
                            <option value="{{ key }}" {% if customer.star == key %}selected{% endif %}>{{ value }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="dosham" class="form-label">Dosham</label>
                        <input type="text" class="form-control" id="dosham" name="dosham" value="{{ customer.dosham }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="dob" class="form-label">Date of Birth</label>
                        <input type="text" class="form-control" id="dob" name="dob" value="{{ customer.dob }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="time_birth" class="form-label">Time of Birth</label>
                        <input type="text" class="form-control" id="time_birth" name="time_birth"
                            value="{{ customer.time_birth }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="place_birth" class="form-label">Place of Birth</label>
                        <input type="text" class="form-control" id="place_birth" name="place_birth"
                            value="{{ customer.place_birth }}">
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="height" class="form-label">Height</label>
                        <input type="text" class="form-control" id="height" name="height" value="{{ customer.height }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="weight" class="form-label">Weight</label>
                        <input type="text" class="form-control" id="weight" name="weight" value="{{ customer.weight }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="complexion" class="form-label">Complexion</label>
                        <input type="text" class="form-control" id="complexion" name="complexion"
                            value="{{ customer.complexion }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="physical_condition" class="form-label">Physical Condition</label>
                        <input type="text" class="form-control" id="physical_condition" name="physical_condition"
                            value="{{ customer.physical_condition }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="education" class="form-label">Education</label>
                        <input type="text" class="form-control" id="education" name="education"
                            value="{{ customer.education }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="job" class="form-label">Job</label>
                        <input type="text" class="form-control" id="job" name="job" value="{{ customer.job }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="company" class="form-label">Company</label>
                        <input type="text" class="form-control" id="company" name="company"
                            value="{{ customer.company }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="job_department" class="form-label">Job Department</label>
                        <input type="text" class="form-control" id="job_department" name="job_department"
                            value="{{ customer.job_department }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="job_city" class="form-label">Job City</label>
                        <input type="text" class="form-control" id="job_city" name="job_city"
                            value="{{ customer.job_city }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="income" class="form-label">Income</label>
                        <input type="text" class="form-control" id="income" name="income" value="{{ customer.income }}">
                    </div>

                    <div class="col-md-12 mt-3">
                        <h5>Address Details</h5>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="address" class="form-label">Full Address</label>
                        <textarea class="form-control" id="address" name="address">{{ customer.address }}</textarea>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="house_name" class="form-label">House Name</label>
                        <input type="text" class="form-control" id="house_name" name="house_name"
                            value="{{ customer.house_name }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="street" class="form-label">Street</label>
                        <input type="text" class="form-control" id="street" name="street" value="{{ customer.street }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="city" class="form-label">City</label>
                        <input type="text" class="form-control" id="city" name="city" value="{{ customer.city }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="district" class="form-label">District</label>
                        <input type="text" class="form-control" id="district" name="district"
                            value="{{ customer.district }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="post" class="form-label">Post</label>
                        <input type="text" class="form-control" id="post" name="post" value="{{ customer.post }}">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="pin_code" class="form-label">Pin Code</label>
                        <input type="text" class="form-control" id="pin_code" name="pin_code"
                            value="{{ customer.pin_code }}">
                    </div>
                    <div class="col-md-12 mb-3">
                        <label for="description" class="form-label">Description</label>
                        <textarea class="form-control" id="description"
                            name="description">{{ customer.description }}</textarea>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary">Save Changes</button>
                <a href="{% url 'customer_dashboard' %}" class="btn btn-secondary">Cancel</a>
            </form>


































            <script>
                // Get the modal
                var modal = document.getElementById("editModal");

                // Get the button that opens the modal
                var btn = document.getElementById("editBtn");

                // Get the <span> element that closes the modal
                var span = document.getElementsByClassName("close")[0];

                // When the user clicks the button, open the modal 
                btn.onclick = function () {
                    modal.style.display = "block";
                }

                // When the user clicks on <span> (x), close the modal
                span.onclick = function () {
                    modal.style.display = "none";
                }

                // When the user clicks anywhere outside of the modal, close it
                window.onclick = function (event) {
                    if (event.target == modal) {
                        modal.style.display = "none";
                    }
                }
            </script>